# 羽毛球管理系统论坛接口文档

## 目录

- [帖子相关接口](#帖子相关接口)
  - [获取帖子列表](#获取帖子列表)
  - [获取帖子详情](#获取帖子详情)
  - [发布新帖子](#发布新帖子)
  - [搜索帖子](#搜索帖子)
- [评论相关接口](#评论相关接口)
  - [获取评论列表](#获取评论列表)
  - [发布评论](#发布评论)
  - [回复评论](#回复评论)
  - [点赞评论](#点赞评论)
  - [取消点赞](#取消点赞)
  - [删除评论](#删除评论)

## 帖子相关接口

### 获取帖子列表

- **接口路径**：`/api/forum/posts`
- **请求方式**：GET
- **接口描述**：获取论坛帖子列表，支持分页和分类筛选
- **请求参数**：

| 参数名   | 类型   | 是否必须 | 描述                              |
| -------- | ------ | -------- | --------------------------------- |
| page     | number | 是       | 当前页码                          |
| pageSize | number | 是       | 每页显示条数                      |
| category | string | 否       | 帖子分类(all/hot/notice/help/exp) |
| keyword  | string | 否       | 搜索关键词                        |

- **返回参数**：

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "total": 50,
    "items": [
      {
        "id": 1,
        "title": "新手请教：如何选择适合自己的羽毛球拍？",
        "author": "羽球新手",
        "publishTime": "2024-03-15",
        "views": 256,
        "replies": 18,
        "lastReply": "2024-03-18",
        "cate": "求助问答"
      }
    ]
  }
}
```

### 获取帖子详情

- **接口路径**：`/api/forum/posts/:id`
- **请求方式**：GET
- **接口描述**：获取论坛帖子详情
- **请求参数**：

| 参数名 | 类型   | 是否必须 | 描述   |
| ------ | ------ | -------- | ------ |
| id     | number | 是       | 帖子ID |

- **返回参数**：

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "id": 1,
    "title": "新手请教：如何选择适合自己的羽毛球拍？",
    "author": "羽球新手",
    "publishTime": "2024-03-15",
    "views": 256,
    "content": "<p>大家好，我是一名羽毛球初学者...</p>"
  }
}
```

### 发布新帖子

- **接口路径**：`/api/forum/posts`
- **请求方式**：POST
- **接口描述**：发布新帖子
- **请求参数**：

| 参数名   | 类型   | 是否必须 | 描述     |
| -------- | ------ | -------- | -------- |
| title    | string | 是       | 帖子标题 |
| content  | string | 是       | 帖子内容 |
| category | string | 是       | 帖子分类 |

- **返回参数**：

```json
{
  "code": 200,
  "message": "发布成功",
  "data": {
    "id": 16
  }
}
```

### 搜索帖子

- **接口路径**：`/api/forum/posts/search`
- **请求方式**：GET
- **接口描述**：搜索论坛帖子
- **请求参数**：

| 参数名   | 类型   | 是否必须 | 描述         |
| -------- | ------ | -------- | ------------ |
| keyword  | string | 是       | 搜索关键词   |
| page     | number | 是       | 当前页码     |
| pageSize | number | 是       | 每页显示条数 |

- **返回参数**：

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "total": 5,
    "items": [
      {
        "id": 1,
        "title": "新手请教：如何选择适合自己的羽毛球拍？",
        "author": "羽球新手",
        "publishTime": "2024-03-15",
        "views": 256,
        "replies": 18,
        "lastReply": "2024-03-18",
        "cate": "求助问答"
      }
    ]
  }
}
```

## 评论相关接口

### 获取评论列表

- **接口路径**：`/api/forum/posts/:postId/comments`
- **请求方式**：GET
- **接口描述**：获取帖子的评论列表
- **请求参数**：

| 参数名   | 类型   | 是否必须 | 描述              |
| -------- | ------ | -------- | ----------------- |
| postId   | number | 是       | 帖子ID            |
| sortType | string | 否       | 排序方式(hot/new) |

- **返回参数**：

```json
{
  "code": 200,
  "message": "操作成功",
  "data": [
    {
      "id": 1,
      "author": "WP",
      "avatar": "",
      "content": "太水了，诗人谢我吃，代码下了没？连个自己玩的demo都不放两张，就在这儿分享",
      "publishTime": "1天前",
      "likes": 0,
      "isLiked": false,
      "replies": []
    }
  ]
}
```

### 发布评论

- **接口路径**：`/api/forum/posts/:postId/comments`
- **请求方式**：POST
- **接口描述**：发布帖子评论
- **请求参数**：

| 参数名  | 类型   | 是否必须 | 描述     |
| ------- | ------ | -------- | -------- |
| postId  | number | 是       | 帖子ID   |
| content | string | 是       | 评论内容 |

- **返回参数**：

```json
{
  "code": 200,
  "message": "评论成功",
  "data": {
    "id": 8,
    "author": "当前用户名",
    "avatar": "",
    "content": "评论内容",
    "publishTime": "刚刚",
    "likes": 0,
    "isLiked": false
  }
}
```

### 回复评论

- **接口路径**：`/api/forum/comments/:commentId/replies`
- **请求方式**：POST
- **接口描述**：回复某条评论
- **请求参数**：

| 参数名        | 类型   | 是否必须 | 描述         |
| ------------- | ------ | -------- | ------------ |
| commentId     | number | 是       | 评论ID       |
| content       | string | 是       | 回复内容     |
| replyToUserId | number | 否       | 回复的用户ID |

- **返回参数**：

```json
{
  "code": 200,
  "message": "回复成功",
  "data": {
    "id": 5,
    "author": "当前用户名",
    "avatar": "",
    "content": "回复内容",
    "publishTime": "刚刚",
    "likes": 0,
    "isLiked": false
  }
}
```

### 点赞评论

- **接口路径**：`/api/forum/comments/:commentId/like`
- **请求方式**：POST
- **接口描述**：点赞评论
- **请求参数**：

| 参数名    | 类型   | 是否必须 | 描述   |
| --------- | ------ | -------- | ------ |
| commentId | number | 是       | 评论ID |

- **返回参数**：

```json
{
  "code": 200,
  "message": "点赞成功",
  "data": {
    "likes": 6,
    "isLiked": true
  }
}
```

### 取消点赞

- **接口路径**：`/api/forum/comments/:commentId/unlike`
- **请求方式**：POST
- **接口描述**：取消点赞
- **请求参数**：

| 参数名    | 类型   | 是否必须 | 描述   |
| --------- | ------ | -------- | ------ |
| commentId | number | 是       | 评论ID |

- **返回参数**：

```json
{
  "code": 200,
  "message": "取消点赞成功",
  "data": {
    "likes": 5,
    "isLiked": false
  }
}
```

### 删除评论

- **接口路径**：`/api/forum/comments/:commentId`
- **请求方式**：DELETE
- **接口描述**：删除评论
- **请求参数**：

| 参数名    | 类型   | 是否必须 | 描述   |
| --------- | ------ | -------- | ------ |
| commentId | number | 是       | 评论ID |

- **返回参数**：

```json
{
  "code": 200,
  "message": "删除成功",
  "data": null
}
```
