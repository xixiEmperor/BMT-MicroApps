# 论坛接口文档

## 1. 获取帖子列表

**接口路径**: /api/forum/posts  
**请求类型**: GET  
**接口名称**: 获取帖子列表

**请求参数**:

```
{
  "page": "number", // 页码，从1开始
  "pageSize": "number", // 每页条数
  "category": "string", // 可选，分类：all(全部)、hot(打球组队)、notice(公告通知)、help(求助问答)、exp(经验交流)
  "keyword": "string" // 可选，搜索关键词
}
```

**返回响应**:

```
{
  "code": 0, // 0表示成功，1表示失败
  "message": "string", // 响应消息
  "data": {
    "total": "number", // 总条数
    "items": [
      {
        "id": "number", // 帖子ID
        "title": "string", // 帖子标题
        "author": "string", // 作者
        "publishTime": "string", // 发布时间，格式：YYYY-MM-DD
        "views": "number", // 浏览次数
        "replies": "number", // 回复数
        "lastReply": "string", // 最后回复时间，格式：YYYY-MM-DD
        "cate": "string" // 分类：hot(打球组队)、notice(公告通知)、help(求助问答)、exp(经验交流)
      }
    ]
  }
}
```

## 2. 获取帖子详情

**接口路径**: /api/forum/posts/detail  
**请求类型**: GET  
**接口名称**: 获取帖子详情

**请求参数**:

```
{
  "postId": "number" // 帖子ID
}
```

**返回响应**:

```
{
  "code": 0, // 0表示成功，1表示失败
  "message": "string", // 响应消息
  "data": {
    "id": "number", // 帖子ID
    "title": "string", // 帖子标题
    "content": "string", // 帖子内容，支持HTML格式
    "author": "string", // 作者
    "publishTime": "string", // 发布时间，格式：YYYY-MM-DD
    "views": "number", // 浏览次数
    "category": "string" // 分类
  }
}
```

## 3. 获取帖子评论

**接口路径**: /api/forum/comments  
**请求类型**: GET  
**接口名称**: 获取帖子评论

**请求参数**:

```
{
  "postId": "number", // 帖子ID
  "sortType": "string" // 可选，排序方式：hot(热度排序)、new(时间排序，默认)
}
```

**返回响应**:

```
{
  "code": 0, // 0表示成功，1表示失败
  "message": "string", // 响应消息
  "data": [
    {
      "id": "number", // 评论ID
      "author": "string", // 评论作者
      "avatar": "string", // 头像URL
      "content": "string", // 评论内容
      "publishTime": "string", // 发布时间，格式：x天前、x小时前等
      "likes": "number", // 点赞数
      "isLiked": "boolean", // 当前用户是否已点赞
      "replies": [ // 回复列表
        {
          "id": "number", // 回复ID
          "author": "string", // 回复作者
          "content": "string", // 回复内容
          "publishTime": "string", // 发布时间
          "likes": "number", // 点赞数
          "isLiked": "boolean" // 当前用户是否已点赞
        }
      ]
    }
  ]
}
```

## 4. 发布评论

**接口路径**: /api/forum/comments/create  
**请求类型**: POST  
**接口名称**: 发布评论

**请求参数**:

```
{
  "postId": "number", // 帖子ID
  "content": "string", // 评论内容
  "parentId": "number" // 可选，回复的评论ID，不提供则为顶级评论
}
```

**返回响应**:

```
{
  "code": 0, // 0表示成功，1表示失败
  "message": "string", // 响应消息
  "data": {
    "commentId": "number" // 创建的评论ID
  }
}
```

## 5. 点赞评论

**接口路径**: /api/forum/comments/like  
**请求类型**: POST  
**接口名称**: 点赞评论

**请求参数**:

```
{
  "commentId": "number", // 评论ID
  "action": "string" // 操作：like(点赞)、unlike(取消点赞)
}
```

**返回响应**:

```
{
  "code": 0, // 0表示成功，1表示失败
  "message": "string", // 响应消息
  "data": {
    "likes": "number" // 更新后的点赞数
  }
}
```

## 6. 发布帖子

**接口路径**: /api/forum/posts/create  
**请求类型**: POST  
**接口名称**: 发布帖子

**请求参数**:

```
{
  "title": "string", // 帖子标题
  "content": "string", // 帖子内容，支持HTML格式
  "category": "string" // 分类：hot(打球组队)、notice(公告通知)、help(求助问答)、exp(经验交流)
}
```

**返回响应**:

```
{
  "code": 0, // 0表示成功，1表示失败
  "message": "string", // 响应消息
  "data": {
    "postId": "number" // 创建的帖子ID
  }
}
```
