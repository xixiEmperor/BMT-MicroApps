import{az as e,r as s}from"./index-BtPdgGUc.js";import{f as l}from"./format-D0hGXpTN.js";const t=e("forum",()=>{const e=s(),t=s(null),u=s(),setCurrentPost=e=>{e&&e.publishTime&&!e.publishTime.includes("-")&&(e.publishTime=l(e.publishTime)),t.value=e},i=s([]);return{posts:e,currentPost:t,hotPosts:u,setPosts:s=>{s&&s.length>0?e.value=s.map(e=>(e.publishTime&&!e.publishTime.includes("-")&&(e.publishTime=l(e.publishTime)),e.lastReply&&!e.lastReply.includes("-")&&(e.lastReply=l(e.lastReply)),e)):e.value=s},setHotPosts:e=>{u.value=e},setCurrentPost:setCurrentPost,addPost:s=>{e.value.unshift(s)},updatePost:s=>{const l=e.value.findIndex(e=>e.id===s.id);-1!==l&&(e.value[l]=s),t.value&&t.value.id===s.id&&setCurrentPost(s)},deletePost:s=>{const l=e.value.findIndex(e=>e.id===s);-1!==l&&e.value.splice(l,1),t.value&&t.value.id===s&&(t.value=null)},comments:i,setComments:e=>{i.value=e}}},{persist:!0});export{t as u};
