import{az as s,r as t}from"./index-RXELqIC3.js";import{f as o}from"./format-Be2yr7zd.js";const e=s("forum",()=>{const s=t(),e=t(null),r=t(),n=s=>{s&&s.publishTime&&!s.publishTime.includes("-")&&(s.publishTime=o(s.publishTime)),e.value=s},m=t([]);return{posts:s,currentPost:e,hotPosts:r,setPosts:t=>{t&&t.length>0?s.value=t.map(s=>(s.publishTime&&!s.publishTime.includes("-")&&(s.publishTime=o(s.publishTime)),s.lastReply&&!s.lastReply.includes("-")&&(s.lastReply=o(s.lastReply)),s)):s.value=t},setHotPosts:s=>{r.value=s},setCurrentPost:n,addPost:t=>{s.value.unshift(t)},updatePost:t=>{const o=s.value.findIndex(s=>s.id===t.id);-1!==o&&(s.value[o]=t),e.value&&e.value.id===t.id&&n(t)},deletePost:t=>{const o=s.value.findIndex(s=>s.id===t);-1!==o&&s.value.splice(o,1),e.value&&e.value.id===t&&(e.value=null)},comments:m,setComments:s=>{m.value=s}}},{persist:!0});export{e as u};
