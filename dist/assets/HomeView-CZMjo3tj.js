var t,e=Object.defineProperty,n=(t,n,s)=>((t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s)(t,"symbol"!=typeof n?n+"":n,s);import{r as s,K as i,L as r,l as a,k as o,J as l,h as c,M as h,N as u,O as p,x as d,E as f,u as g,d as k,o as b,g as m,P as w,Q as x,R as v,w as y,j as $,S as _,p as S,A,m as C,T as z,i as P,U as T,V as R,a as I,W as q,X as D}from"./index-RXELqIC3.js";/* empty css                */import{_ as E}from"./_plugin-vue_export-helper-CRLhVpGU.js";/* empty css                        */function Z(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var j={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function L(t){j=t}var O={exec:()=>null};function M(t,e=""){let n="string"==typeof t?t:t.source;const s={replace:(t,e)=>{let i="string"==typeof e?e:e.source;return i=i.replace(B.caret,"$1"),n=n.replace(t,i),s},getRegex:()=>new RegExp(n,e)};return s}var B={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},U=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,V=/(?:[*+-]|\d{1,9}[.)])/,N=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,G=M(N).replace(/bull/g,V).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),H=M(N).replace(/bull/g,V).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),K=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,F=/(?!\s*\])(?:\\.|[^\[\]\\])+/,J=M(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",F).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),X=M(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,V).getRegex(),Q="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",W=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Y=M("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",W).replace("tag",Q).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),tt=M(K).replace("hr",U).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex(),et={blockquote:M(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",tt).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:J,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:U,html:Y,lheading:G,list:X,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:tt,table:O,text:/^[^\n]+/},nt=M("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",U).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex(),st={...et,lheading:H,table:nt,paragraph:M(K).replace("hr",U).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",nt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Q).getRegex()},it={...et,html:M("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",W).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:O,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:M(K).replace("hr",U).replace("heading"," *#{1,6} *[^\n]").replace("lheading",G).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},rt=/^( {2,}|\\)\n(?!\s*$)/,at=/[\p{P}\p{S}]/u,ot=/[\s\p{P}\p{S}]/u,lt=/[^\s\p{P}\p{S}]/u,ct=M(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ot).getRegex(),ht=/(?!~)[\p{P}\p{S}]/u,ut=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,pt=M(ut,"u").replace(/punct/g,at).getRegex(),dt=M(ut,"u").replace(/punct/g,ht).getRegex(),ft="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",gt=M(ft,"gu").replace(/notPunctSpace/g,lt).replace(/punctSpace/g,ot).replace(/punct/g,at).getRegex(),kt=M(ft,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,ht).getRegex(),bt=M("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,lt).replace(/punctSpace/g,ot).replace(/punct/g,at).getRegex(),mt=M(/\\(punct)/,"gu").replace(/punct/g,at).getRegex(),wt=M(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),xt=M(W).replace("(?:--\x3e|$)","--\x3e").getRegex(),vt=M("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",xt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,$t=M(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",yt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_t=M(/^!?\[(label)\]\[(ref)\]/).replace("label",yt).replace("ref",F).getRegex(),St=M(/^!?\[(ref)\](?:\[\])?/).replace("ref",F).getRegex(),At={t:O,anyPunctuation:mt,autolink:wt,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:rt,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:O,emStrongLDelim:pt,emStrongRDelimAst:gt,emStrongRDelimUnd:bt,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:$t,nolink:St,punctuation:ct,reflink:_t,reflinkSearch:M("reflink|nolink(?!\\()","g").replace("reflink",_t).replace("nolink",St).getRegex(),tag:vt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:O},Ct={...At,link:M(/^!?\[(label)\]\((.*?)\)/).replace("label",yt).getRegex(),reflink:M(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yt).getRegex()},zt={...At,emStrongRDelimAst:kt,emStrongLDelim:dt,url:M(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),t:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Pt={...zt,br:M(rt).replace("{2,}","*").getRegex(),text:M(zt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Tt={normal:et,gfm:st,pedantic:it},Rt={normal:At,gfm:zt,breaks:Pt,pedantic:Ct},It={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qt=t=>It[t];function Dt(t,e){if(e){if(B.escapeTest.test(t))return t.replace(B.escapeReplace,qt)}else if(B.escapeTestNoEncode.test(t))return t.replace(B.escapeReplaceNoEncode,qt);return t}function Et(t){try{t=encodeURI(t).replace(B.percentDecode,"%")}catch{return null}return t}function Zt(t,e){var n;const s=t.replace(B.findPipe,(t,e,n)=>{let s=!1,i=e;for(;--i>=0&&"\\"===n[i];)s=!s;return s?"|":" |"}).split(B.splitPipe);let i=0;if(s[0].trim()||s.shift(),s.length>0&&!(null==(n=s.at(-1))?void 0:n.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;i<s.length;i++)s[i]=s[i].trim().replace(B.slashPipe,"|");return s}function jt(t,e,n){const s=t.length;if(0===s)return"";let i=0;for(;i<s;){if(t.charAt(s-i-1)!==e)break;i++}return t.slice(0,s-i)}function Lt(t,e,n,s,i){const r=e.href,a=e.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");s.state.inLink=!0;const l={type:"!"===t[0].charAt(0)?"image":"link",raw:n,href:r,title:a,text:o,tokens:s.inlineTokens(o)};return s.state.inLink=!1,l}var Ot=class{constructor(t){n(this,"options"),n(this,"rules"),n(this,"lexer"),this.options=t||j}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:jt(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],n=function(t,e,n){const s=t.match(n.other.indentCodeCompensation);if(null===s)return e;const i=s[1];return e.split("\n").map(t=>{const e=t.match(n.other.beginningSpace);if(null===e)return t;const[s]=e;return s.length>=i.length?t.slice(i.length):t}).join("\n")}(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){const e=jt(t,"#");this.options.pedantic?t=e.trim():e&&!this.rules.other.endingSpaceChar.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:jt(e[0],"\n")}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let t=jt(e[0],"\n").split("\n"),n="",s="";const i=[];for(;t.length>0;){let e=!1;const r=[];let a;for(a=0;a<t.length;a++)if(this.rules.other.blockquoteStart.test(t[a]))r.push(t[a]),e=!0;else{if(e)break;r.push(t[a])}t=t.slice(a);const o=r.join("\n"),l=o.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${o}`:o,s=s?`${s}\n${l}`:l;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,i,!0),this.lexer.state.top=c,0===t.length)break;const h=i.at(-1);if("code"===(null==h?void 0:h.type))break;if("blockquote"===(null==h?void 0:h.type)){const e=h,r=e.raw+"\n"+t.join("\n"),a=this.blockquote(r);i[i.length-1]=a,n=n.substring(0,n.length-e.raw.length)+a.raw,s=s.substring(0,s.length-e.text.length)+a.text;break}if("list"===(null==h?void 0:h.type)){const e=h,r=e.raw+"\n"+t.join("\n"),a=this.list(r);i[i.length-1]=a,n=n.substring(0,n.length-h.raw.length)+a.raw,s=s.substring(0,s.length-e.raw.length)+a.raw,t=r.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:n,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim();const s=n.length>1,i={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:!1,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=s?n:"[*+-]");const r=this.rules.other.listItemRegex(n);let a=!1;for(;t;){let n=!1,s="",o="";if(!(e=r.exec(t)))break;if(this.rules.block.hr.test(t))break;s=e[0],t=t.substring(s.length);let l=e[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,t=>" ".repeat(3*t.length)),c=t.split("\n",1)[0],h=!l.trim(),u=0;if(this.options.pedantic?(u=2,o=l.trimStart()):h?u=e[1].length+1:(u=e[2].search(this.rules.other.nonSpaceChar),u=u>4?1:u,o=l.slice(u),u+=e[1].length),h&&this.rules.other.blankLine.test(c)&&(s+=c+"\n",t=t.substring(c.length+1),n=!0),!n){const e=this.rules.other.nextBulletRegex(u),n=this.rules.other.hrRegex(u),i=this.rules.other.fencesBeginRegex(u),r=this.rules.other.headingBeginRegex(u),a=this.rules.other.htmlBeginRegex(u);for(;t;){const p=t.split("\n",1)[0];let d;if(c=p,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),d=c):d=c.replace(this.rules.other.tabCharGlobal,"    "),i.test(c))break;if(r.test(c))break;if(a.test(c))break;if(e.test(c))break;if(n.test(c))break;if(d.search(this.rules.other.nonSpaceChar)>=u||!c.trim())o+="\n"+d.slice(u);else{if(h)break;if(l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(i.test(l))break;if(r.test(l))break;if(n.test(l))break;o+="\n"+c}h||c.trim()||(h=!0),s+=p+"\n",t=t.substring(p.length+1),l=d.slice(u)}}i.loose||(a?i.loose=!0:this.rules.other.doubleBlankLine.test(s)&&(a=!0));let p,d=null;this.options.gfm&&(d=this.rules.other.listIsTask.exec(o),d&&(p="[ ] "!==d[0],o=o.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:s,task:!!d,checked:p,loose:!1,text:o,tokens:[]}),i.raw+=s}const o=i.items.at(-1);if(!o)return;o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd(),i.raw=i.raw.trimEnd();for(let t=0;t<i.items.length;t++)if(this.lexer.state.top=!1,i.items[t].tokens=this.lexer.blockTokens(i.items[t].text,[]),!i.loose){const e=i.items[t].tokens.filter(t=>"space"===t.type),n=e.length>0&&e.some(t=>this.rules.other.anyLine.test(t.raw));i.loose=n}if(i.loose)for(let t=0;t<i.items.length;t++)i.items[t].loose=!0;return i}}html(t){const e=this.rules.block.html.exec(t);if(e){return{type:"html",block:!0,raw:e[0],pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]}}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:s}}}table(t){var e;const n=this.rules.block.table.exec(t);if(!n)return;if(!this.rules.other.tableDelimiter.test(n[2]))return;const s=Zt(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(null==(e=n[3])?void 0:e.trim())?n[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(s.length===i.length){for(const t of i)this.rules.other.tableAlignRight.test(t)?a.align.push("right"):this.rules.other.tableAlignCenter.test(t)?a.align.push("center"):this.rules.other.tableAlignLeft.test(t)?a.align.push("left"):a.align.push(null);for(let t=0;t<s.length;t++)a.header.push({text:s[t],tokens:this.lexer.inline(s[t]),header:!0,align:a.align[t]});for(const t of r)a.rows.push(Zt(t,a.header.length).map((t,e)=>({text:t,tokens:this.lexer.inline(t),header:!1,align:a.align[e]})));return a}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;const e=jt(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;let n=0;for(let s=0;s<t.length;s++)if("\\"===t[s])s++;else if(t[s]===e[0])n++;else if(t[s]===e[1]&&(n--,n<0))return s;return n>0?-2:-1}(e[2],"()");if(-2===t)return;if(t>-1){const n=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,n).trim(),e[3]=""}}let n=e[2],s="";if(this.options.pedantic){const t=this.rules.other.pedanticHrefTitle.exec(n);t&&(n=t[1],s=t[3])}else s=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n.slice(1):n.slice(1,-1)),Lt(e,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){const t=e[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!t){const t=n[0].charAt(0);return{type:"text",raw:t,text:t}}return Lt(n,t,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let s=this.rules.inline.emStrongLDelim.exec(t);if(!s)return;if(s[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...s[0]].length-1;let i,r,a=n,o=0;const l="*"===s[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,e=e.slice(-1*t.length+n);null!=(s=l.exec(e));){if(i=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!i)continue;if(r=[...i].length,s[3]||s[4]){a+=r;continue}if((s[5]||s[6])&&n%3&&!((n+r)%3)){o+=r;continue}if(a-=r,a>0)continue;r=Math.min(r,r+a+o);const e=[...s[0]][0].length,l=t.slice(0,n+s.index+e+r);if(Math.min(n,r)%2){const t=l.slice(1,-1);return{type:"em",raw:l,text:t,tokens:this.lexer.inlineTokens(t)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(t),s=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&s&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let t,n;return"@"===e[2]?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(t){var e;let n;if(n=this.rules.inline.url.exec(t)){let t,s;if("@"===n[2])t=n[0],s="mailto:"+t;else{let i;do{i=n[0],n[0]=(null==(e=this.rules.inline.t.exec(n[0]))?void 0:e[0])??""}while(i!==n[0]);t=n[0],s="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:t,href:s,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},Mt=class t{constructor(t){n(this,"tokens"),n(this,"options"),n(this,"state"),n(this,"tokenizer"),n(this,"inlineQueue"),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||j,this.options.tokenizer=this.options.tokenizer||new Ot,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:B,block:Tt.normal,inline:Rt.normal};this.options.pedantic?(e.block=Tt.pedantic,e.inline=Rt.pedantic):this.options.gfm&&(e.block=Tt.gfm,this.options.breaks?e.inline=Rt.breaks:e.inline=Rt.gfm),this.tokenizer.rules=e}static get rules(){return{block:Tt,inline:Rt}}static lex(e,n){return new t(n).lex(e)}static lexInline(e,n){return new t(n).inlineTokens(e)}lex(t){t=t.replace(B.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,e=[],n=!1){var s,i,r;for(this.options.pedantic&&(t=t.replace(B.tabCharGlobal,"    ").replace(B.spaceLine,""));t;){let a;if(null==(i=null==(s=this.options.extensions)?void 0:s.block)?void 0:i.some(n=>!!(a=n.call({lexer:this},t,e))&&(t=t.substring(a.raw.length),e.push(a),!0)))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);const n=e.at(-1);1===a.raw.length&&void 0!==n?n.raw+="\n":e.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);const n=e.at(-1);"paragraph"===(null==n?void 0:n.type)||"text"===(null==n?void 0:n.type)?(n.raw+="\n"+a.raw,n.text+="\n"+a.text,this.inlineQueue.at(-1).src=n.text):e.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);const n=e.at(-1);"paragraph"===(null==n?void 0:n.type)||"text"===(null==n?void 0:n.type)?(n.raw+="\n"+a.raw,n.text+="\n"+a.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),e.push(a);continue}let o=t;if(null==(r=this.options.extensions)?void 0:r.startBlock){let e=1/0;const n=t.slice(1);let s;this.options.extensions.startBlock.forEach(t=>{s=t.call({lexer:this},n),"number"==typeof s&&s>=0&&(e=Math.min(e,s))}),e<1/0&&e>=0&&(o=t.substring(0,e+1))}if(this.state.top&&(a=this.tokenizer.paragraph(o))){const s=e.at(-1);n&&"paragraph"===(null==s?void 0:s.type)?(s.raw+="\n"+a.raw,s.text+="\n"+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):e.push(a),n=o.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);const n=e.at(-1);"text"===(null==n?void 0:n.type)?(n.raw+="\n"+a.raw,n.text+="\n"+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):e.push(a);continue}if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent)break;throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){var n,s,i;let r=t,a=null;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(r));)t.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,a.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,l="";for(;t;){let a;if(o||(l=""),o=!1,null==(s=null==(n=this.options.extensions)?void 0:n.inline)?void 0:s.some(n=>!!(a=n.call({lexer:this},t,e))&&(t=t.substring(a.raw.length),e.push(a),!0)))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);const n=e.at(-1);"text"===a.type&&"text"===(null==n?void 0:n.type)?(n.raw+=a.raw,n.text+=a.text):e.push(a);continue}if(a=this.tokenizer.emStrong(t,r,l)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),e.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),e.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),e.push(a);continue}let c=t;if(null==(i=this.options.extensions)?void 0:i.startInline){let e=1/0;const n=t.slice(1);let s;this.options.extensions.startInline.forEach(t=>{s=t.call({lexer:this},n),"number"==typeof s&&s>=0&&(e=Math.min(e,s))}),e<1/0&&e>=0&&(c=t.substring(0,e+1))}if(a=this.tokenizer.inlineText(c)){t=t.substring(a.raw.length),"_"!==a.raw.slice(-1)&&(l=a.raw.slice(-1)),o=!0;const n=e.at(-1);"text"===(null==n?void 0:n.type)?(n.raw+=a.raw,n.text+=a.text):e.push(a);continue}if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent)break;throw new Error(e)}}return e}},Bt=class{constructor(t){n(this,"options"),n(this,"parser"),this.options=t||j}space(t){return""}code({text:t,lang:e,escaped:n}){var s;const i=null==(s=(e||"").match(B.notSpaceStart))?void 0:s[0],r=t.replace(B.endingNewline,"")+"\n";return i?'<pre><code class="language-'+Dt(i)+'">'+(n?r:Dt(r,!0))+"</code></pre>\n":"<pre><code>"+(n?r:Dt(r,!0))+"</code></pre>\n"}blockquote({tokens:t}){return`<blockquote>\n${this.parser.parse(t)}</blockquote>\n`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>\n`}hr(t){return"<hr>\n"}list(t){const e=t.ordered,n=t.start;let s="";for(let r=0;r<t.items.length;r++){const e=t.items[r];s+=this.listitem(e)}const i=e?"ol":"ul";return"<"+i+(e&&1!==n?' start="'+n+'"':"")+">\n"+s+"</"+i+">\n"}listitem(t){var e;let n="";if(t.task){const s=this.checkbox({checked:!!t.checked});t.loose?"paragraph"===(null==(e=t.tokens[0])?void 0:e.type)?(t.tokens[0].text=s+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&"text"===t.tokens[0].tokens[0].type&&(t.tokens[0].tokens[0].text=s+" "+Dt(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):n+=s+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>\n`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>\n`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let s="";for(let i=0;i<t.rows.length;i++){const e=t.rows[i];n="";for(let t=0;t<e.length;t++)n+=this.tablecell(e[t]);s+=this.tablerow({text:n})}return s&&(s=`<tbody>${s}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+s+"</table>\n"}tablerow({text:t}){return`<tr>\n${t}</tr>\n`}tablecell(t){const e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Dt(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){const s=this.parser.parseInline(n),i=Et(t);if(null===i)return s;let r='<a href="'+(t=i)+'"';return e&&(r+=' title="'+Dt(e)+'"'),r+=">"+s+"</a>",r}image({href:t,title:e,text:n,tokens:s}){s&&(n=this.parser.parseInline(s,this.parser.textRenderer));const i=Et(t);if(null===i)return Dt(n);let r=`<img src="${t=i}" alt="${n}"`;return e&&(r+=` title="${Dt(e)}"`),r+=">",r}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Dt(t.text)}},Ut=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Vt=class t{constructor(t){n(this,"options"),n(this,"renderer"),n(this,"textRenderer"),this.options=t||j,this.options.renderer=this.options.renderer||new Bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ut}static parse(e,n){return new t(n).parse(e)}static parseInline(e,n){return new t(n).parseInline(e)}parse(t,e=!0){var n,s;let i="";for(let r=0;r<t.length;r++){const a=t[r];if(null==(s=null==(n=this.options.extensions)?void 0:n.renderers)?void 0:s[a.type]){const t=a,e=this.options.extensions.renderers[t.type].call({parser:this},t);if(!1!==e||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(t.type)){i+=e||"";continue}}const o=a;switch(o.type){case"space":i+=this.renderer.space(o);continue;case"hr":i+=this.renderer.hr(o);continue;case"heading":i+=this.renderer.heading(o);continue;case"code":i+=this.renderer.code(o);continue;case"table":i+=this.renderer.table(o);continue;case"blockquote":i+=this.renderer.blockquote(o);continue;case"list":i+=this.renderer.list(o);continue;case"html":i+=this.renderer.html(o);continue;case"paragraph":i+=this.renderer.paragraph(o);continue;case"text":{let n=o,s=this.renderer.text(n);for(;r+1<t.length&&"text"===t[r+1].type;)n=t[++r],s+="\n"+this.renderer.text(n);i+=e?this.renderer.paragraph({type:"paragraph",raw:s,text:s,tokens:[{type:"text",raw:s,text:s,escaped:!0}]}):s;continue}default:{const t='Token with "'+o.type+'" type was not found.';if(this.options.silent)return"";throw new Error(t)}}}return i}parseInline(t,e=this.renderer){var n,s;let i="";for(let r=0;r<t.length;r++){const a=t[r];if(null==(s=null==(n=this.options.extensions)?void 0:n.renderers)?void 0:s[a.type]){const t=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==t||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=t||"";continue}}const o=a;switch(o.type){case"escape":case"text":i+=e.text(o);break;case"html":i+=e.html(o);break;case"link":i+=e.link(o);break;case"image":i+=e.image(o);break;case"strong":i+=e.strong(o);break;case"em":i+=e.em(o);break;case"codespan":i+=e.codespan(o);break;case"br":i+=e.br(o);break;case"del":i+=e.del(o);break;default:{const t='Token with "'+o.type+'" type was not found.';if(this.options.silent)return"";throw new Error(t)}}}return i}},Nt=(t=class{constructor(t){n(this,"options"),n(this,"block"),this.options=t||j}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Mt.lex:Mt.lexInline}provideParser(){return this.block?Vt.parse:Vt.parseInline}},n(t,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),t),Gt=new class{constructor(...t){n(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),n(this,"options",this.setOptions),n(this,"parse",this.parseMarkdown(!0)),n(this,"parseInline",this.parseMarkdown(!1)),n(this,"Parser",Vt),n(this,"Renderer",Bt),n(this,"TextRenderer",Ut),n(this,"Lexer",Mt),n(this,"Tokenizer",Ot),n(this,"Hooks",Nt),this.use(...t)}walkTokens(t,e){var n,s;let i=[];for(const r of t)switch(i=i.concat(e.call(this,r)),r.type){case"table":{const t=r;for(const n of t.header)i=i.concat(this.walkTokens(n.tokens,e));for(const n of t.rows)for(const t of n)i=i.concat(this.walkTokens(t.tokens,e));break}case"list":{const t=r;i=i.concat(this.walkTokens(t.items,e));break}default:{const t=r;(null==(s=null==(n=this.defaults.extensions)?void 0:n.childTokens)?void 0:s[t.type])?this.defaults.extensions.childTokens[t.type].forEach(n=>{const s=t[n].flat(1/0);i=i.concat(this.walkTokens(s,e))}):t.tokens&&(i=i.concat(this.walkTokens(t.tokens,e)))}}return i}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(t=>{const n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){const n=e.renderers[t.name];e.renderers[t.name]=n?function(...e){let s=t.renderer.apply(this,e);return!1===s&&(s=n.apply(this,e)),s}:t.renderer}if("tokenizer"in t){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");const n=e[t.level];n?n.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)}),n.extensions=e),t.renderer){const e=this.defaults.renderer||new Bt(this.defaults);for(const n in t.renderer){if(!(n in e))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const s=n,i=t.renderer[s],r=e[s];e[s]=(...t)=>{let n=i.apply(e,t);return!1===n&&(n=r.apply(e,t)),n||""}}n.renderer=e}if(t.tokenizer){const e=this.defaults.tokenizer||new Ot(this.defaults);for(const n in t.tokenizer){if(!(n in e))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const s=n,i=t.tokenizer[s],r=e[s];e[s]=(...t)=>{let n=i.apply(e,t);return!1===n&&(n=r.apply(e,t)),n}}n.tokenizer=e}if(t.hooks){const e=this.defaults.hooks||new Nt;for(const n in t.hooks){if(!(n in e))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const s=n,i=t.hooks[s],r=e[s];Nt.passThroughHooks.has(n)?e[s]=t=>{if(this.defaults.async)return Promise.resolve(i.call(e,t)).then(t=>r.call(e,t));const n=i.call(e,t);return r.call(e,n)}:e[s]=(...t)=>{let n=i.apply(e,t);return!1===n&&(n=r.apply(e,t)),n}}n.hooks=e}if(t.walkTokens){const e=this.defaults.walkTokens,s=t.walkTokens;n.walkTokens=function(t){let n=[];return n.push(s.call(this,t)),e&&(n=n.concat(e.call(this,t))),n}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Mt.lex(t,e??this.defaults)}parser(t,e){return Vt.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{const s={...n},i={...this.defaults,...s},r=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===s.async)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==e)return r(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof e)return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=t);const a=i.hooks?i.hooks.provideLexer():t?Mt.lex:Mt.lexInline,o=i.hooks?i.hooks.provideParser():t?Vt.parse:Vt.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(e):e).then(t=>a(t,i)).then(t=>i.hooks?i.hooks.processAllTokens(t):t).then(t=>i.walkTokens?Promise.all(this.walkTokens(t,i.walkTokens)).then(()=>t):t).then(t=>o(t,i)).then(t=>i.hooks?i.hooks.postprocess(t):t).catch(r);try{i.hooks&&(e=i.hooks.preprocess(e));let t=a(e,i);i.hooks&&(t=i.hooks.processAllTokens(t)),i.walkTokens&&this.walkTokens(t,i.walkTokens);let n=o(t,i);return i.hooks&&(n=i.hooks.postprocess(n)),n}catch(l){return r(l)}}}onError(t,e){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const t="<p>An error occurred:</p><pre>"+Dt(n.message+"",!0)+"</pre>";return e?Promise.resolve(t):t}if(e)return Promise.reject(n);throw n}}};function Ht(t,e){return Gt.parse(t,e)}Ht.options=Ht.setOptions=function(t){return Gt.setOptions(t),Ht.defaults=Gt.defaults,L(Ht.defaults),Ht},Ht.getDefaults=Z,Ht.defaults=j,Ht.use=function(...t){return Gt.use(...t),Ht.defaults=Gt.defaults,L(Ht.defaults),Ht},Ht.walkTokens=function(t,e){return Gt.walkTokens(t,e)},Ht.parseInline=Gt.parseInline,Ht.Parser=Vt,Ht.parser=Vt.parse,Ht.Renderer=Bt,Ht.TextRenderer=Ut,Ht.Lexer=Mt,Ht.lexer=Mt.lex,Ht.Tokenizer=Ot,Ht.Hooks=Nt,Ht.parse=Ht,Ht.options,Ht.setOptions,Ht.use,Ht.walkTokens,Ht.parseInline,Vt.parse,Mt.lex;const Kt={key:0,class:"config-panel"},Ft={class:"config-modal"},Jt={class:"config-content"},Xt={class:"config-group"},Qt={class:"config-group"},Wt={class:"config-group"},Yt=["value"],te={class:"config-status"},ee={class:"config-actions"},ne=["disabled"],se=E({i:"ConfigPanel",props:{modelValue:{type:Boolean,default:!1},config:{type:Object,default:()=>({apiKey:"app-zV1H0vnzPlwjUkkexGCmF5Gn",baseUrl:"/v1",userId:"user1"})}},emits:["update:modelValue","config-change","test-connection"],setup(t,{expose:e,emit:n}){const g=t,k=n,b=s(g.modelValue),m=s(!1),w=s(!1),x=i({...g.config});r(()=>g.modelValue,t=>{b.value=t}),r(()=>g.config,t=>{Object.assign(x,t)},{deep:!0});const v=()=>{b.value=!1,k("update:modelValue",!1)},y=()=>{localStorage.setItem("dify-chat-config",JSON.stringify(x)),k("config-change",{...x}),f.success("配置已保存！"),v()},$=()=>{confirm("确定要重置为默认配置吗？")&&(x.apiKey="app-zV1H0vnzPlwjUkkexGCmF5Gn",x.baseUrl="/v1")},_=async()=>{m.value=!0;try{k("test-connection",x),setTimeout(()=>{w.value=!0,m.value=!1},2e3)}catch(t){w.value=!1,m.value=!1,f.error("连接测试失败："+t.message)}};return(()=>{const t=localStorage.getItem("dify-chat-config");if(t)try{const e=JSON.parse(t);Object.assign(x,e)}catch(e){}})(),e({testConnection:_}),(t,e)=>b.value?(l(),a("div",Kt,[c("div",{class:"config-overlay",onClick:v}),c("div",Ft,[c("div",{class:"config-header"},[e[2]||(e[2]=c("h3",null,"⚙️ 系统配置",-1)),c("button",{onClick:v,class:"close-btn"},"×")]),c("div",Jt,[c("div",Xt,[e[3]||(e[3]=c("label",{for:"apiKey"},"Dify API Key:",-1)),h(c("input",{id:"apiKey","onUpdate:modelValue":e[0]||(e[0]=t=>x.apiKey=t),type:"password",placeholder:"请输入您的Dify API Key",class:"config-input"},null,512),[[u,x.apiKey]]),e[4]||(e[4]=c("small",null,'您可以在Dify控制台的"访问API"页面获取API Key',-1))]),c("div",Qt,[e[5]||(e[5]=c("label",{for:"baseUrl"},"API 基础地址:",-1)),h(c("input",{id:"baseUrl","onUpdate:modelValue":e[1]||(e[1]=t=>x.baseUrl=t),type:"text",placeholder:"http://127.0.0.1/v1",class:"config-input"},null,512),[[u,x.baseUrl]]),e[6]||(e[6]=c("small",null,"Dify服务的API地址，默认为本地地址",-1))]),c("div",Wt,[e[7]||(e[7]=c("label",{for:"userId"},"用户标识:",-1)),c("input",{id:"userId",value:g.config.userId,type:"text",readonly:"",class:"config-input readonly"},null,8,Yt),e[8]||(e[8]=c("small",null,"当前登录用户的标识，用于个性化服务",-1))]),c("div",te,[c("span",{class:p(["status-indicator",{connected:w.value}])},null,2),c("span",null,d(w.value?"连接正常":"未连接"),1)])]),c("div",ee,[c("button",{onClick:_,class:"test-btn",disabled:m.value},d(m.value?"测试中...":"测试连接"),9,ne),c("button",{onClick:y,class:"save-btn"}," 保存配置 "),c("button",{onClick:$,class:"reset-btn"}," 重置默认 ")])])])):o("",!0)}},[["__scopeId","data-v-b194f9e6"]]),ie={class:"chat-container"},re={key:0},ae=["src","alt"],oe={key:1},le={key:1},ce={class:"message-content"},he=["innerHTML"],ue={class:"message-time"},pe={key:0,class:"message assistant"},de={class:"chat-input"},fe={class:"input-container"},ge=["disabled","placeholder"],ke=["disabled"],be={key:0,class:"login-prompt"},me={key:1,class:"chat-shortcuts"},we={key:0,class:"error-message"},xe=E({i:"ChatInterface",setup(t){const e=s(null),n=s([]),r=s(""),P=s(!1),T=s(""),R=s(null),I=s(!1),q=s(!1),D=g(),E=k(()=>{const t=D.userinfo;if(t&&t.username){return{id:t.username,username:t.username,nickname:t.nickname||t.username,avatar:t.avatar||null}}return null}),Z=k(()=>null!==E.value),j=()=>({id:"guest_"+Date.now(),username:"游客",nickname:"游客",avatar:null}),L=i({apiKey:"app-zV1H0vnzPlwjUkkexGCmF5Gn",baseUrl:"/v1",userId:k(()=>{var t;return(null==(t=E.value)?void 0:t.id)||"guest_"+Date.now()})}),{sendChatMessage:O,resetConversation:M}=function(){const t=s(""),e=s(!1);return{sendChatMessage:async(n,s,i={})=>{try{const a={query:n,response_mode:"streaming",conversation_id:t.value,user:i.user||"user1",inputs:i.inputs||{},files:i.files||[],auto_generate_name:!1!==i.auto_generate_name},o=await fetch("/v1/chat-messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer app-zV1H0vnzPlwjUkkexGCmF5Gn"},body:JSON.stringify(a)});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);e.value=!0;const l=o.body.getReader(),c=new TextDecoder;for(;;){const{done:e,value:n}=await l.read();if(e)break;const i=c.decode(n,{stream:!0}).split("\n");for(const a of i)if(""!==a.trim()&&a.startsWith("data: "))try{const e=a.substring(6);if(""===e.trim()||e.includes("[DONE]"))continue;const n=JSON.parse(e);switch(n.conversation_id&&!t.value&&(t.value=n.conversation_id),s&&"function"==typeof s&&s(n),n.event){case"workflow_started":case"node_started":case"node_finished":case"workflow_finished":case"message":case"message_end":break;case"error":throw new Error(n.message||"未知错误")}}catch(r){}}}catch(a){throw e.value=!1,a}},resetConversation:()=>{t.value=""},getCurrentConversationId:()=>t.value,conversationId:t.value,isConnected:e}}();b(()=>{(()=>{const t=localStorage.getItem("dify-chat-config");if(t)try{const e=JSON.parse(t);Object.assign(L,e)}catch(e){}})();const t=null===E.value?"您好！我是武汉理工大学南湖校区羽毛球馆的智能客服。我可以为您提供场馆信息、预订服务等帮助。请问有什么可以为您效劳的吗？\n\n您可以问我：\n- 有几个羽毛球场？\n- 羽毛球馆的开放时间？\n- 如何预订场地？\n- 场馆位置和交通？":`您好${E.value.nickname}！欢迎回来！我是武汉理工大学南湖校区羽毛球馆的智能客服。我可以为您提供场馆信息、预订服务等帮助。请问有什么可以为您效劳的吗？\n\n您可以问我：\n- 有几个羽毛球场？\n- 羽毛球馆的开放时间？\n- 如何预订场地？\n- 场馆位置和交通？\n- 查看我的预订记录`;n.value.push({id:Date.now(),type:"assistant",content:t,timestamp:new Date}),e.value.testConnection()});const B=async()=>{if(!Z.value)return void f.warning("请先登录后再使用AI客服功能");if(!r.value.trim()||P.value)return;const t={id:Date.now(),type:"user",content:r.value,timestamp:new Date};n.value.push(t);const e=r.value;r.value="",P.value=!0,T.value="";try{const t={id:Date.now()+1,type:"assistant",content:"",timestamp:new Date};n.value.push(t);const s={user:E.value.id,meta:{username:E.value.username,nickname:E.value.nickname,avatar:E.value.avatar}};await O(e,e=>{"message"===e.event?(t.content+=e.answer||"",H()):("message_end"===e.event||"workflow_started"===e.event)&&(q.value=!0)},s)}catch(s){T.value=`发送消息失败：${s.message}`,q.value=!1,n.value=n.value.filter(t=>t.id!==n.value[n.value.length-1].id)}finally{P.value=!1,H()}},U=t=>{Object.assign(L,t)},V=async t=>{try{q.value=!0}catch(e){throw q.value=!1,e}},N=()=>{if(confirm("确定要清空所有对话记录吗？")){const t=null===E.value?"对话已清空。请问有什么可以帮助您的？":`对话已清空，${E.value.nickname}。请问有什么可以帮助您的？`;n.value=[{id:Date.now(),type:"assistant",content:t,timestamp:new Date}]}},G=()=>{if(confirm("确定要开始新的会话吗？当前对话上下文将丢失。")){M();const t=null===E.value?"新会话已开始。请问有什么可以帮助您的？":`新会话已开始，${E.value.nickname}。请问有什么可以帮助您的？`;n.value=[{id:Date.now(),type:"assistant",content:t,timestamp:new Date}]}},H=()=>{z(()=>{R.value&&(R.value.scrollTop=R.value.scrollHeight)})};return(t,s)=>{const i=S,f=C;return l(),a("div",ie,[s[9]||(s[9]=c("div",{class:"chat-header"},[c("div",{class:"header-content"},[c("h1",null,"🏸 武汉理工大学南湖校区羽毛球馆智能客服"),c("p",null,"您好！我是羽毛球馆智能助手，有什么可以帮助您的？")])],-1)),c("div",{class:"chat-messages",ref_key:"messagesContainer",ref:R},[(l(!0),a(w,null,x(n.value,t=>{var e,n,s,i,r,o;return l(),a("div",{key:t.id,class:p(["message",t.type])},[c("div",{class:p(["message-avatar",{"has-user-avatar":"user"===t.type&&((null==(e=E.value)?void 0:e.avatar)||j().avatar)}])},["user"===t.type?(l(),a("span",re,[(null==(n=E.value)?void 0:n.avatar)||j().avatar?(l(),a("img",{key:0,src:(null==(s=E.value)?void 0:s.avatar)||j().avatar,alt:(null==(i=E.value)?void 0:i.nickname)||j().nickname,class:"user-avatar-img"},null,8,ae)):(l(),a("span",oe,"👤"))])):(l(),a("span",le,"🤖"))],2),c("div",ce,[c("div",{class:"message-text",innerHTML:(o=t.content,o?Ht.parse(o):"")},null,8,he),c("div",ue,d((r=t.timestamp,new Intl.DateTimeFormat("zh-CN",{hour:"2-digit",minute:"2-digit"}).format(r))),1)])],2)}),128)),P.value?(l(),a("div",pe,[...s[4]||(s[4]=[c("div",{class:"message-avatar"},[c("span",null,"🤖")],-1),c("div",{class:"message-content"},[c("div",{class:"typing-indicator"},[c("span"),c("span"),c("span")])],-1)])])):o("",!0)],512),c("div",de,[c("div",fe,[h(c("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>r.value=t),onKeyup:v(B,["enter"]),disabled:P.value||!Z.value,placeholder:Z.value?"请输入您的问题...":"请登录后使用",class:"message-input"},null,40,ge),[[u,r.value]]),c("button",{onClick:B,disabled:P.value||!r.value.trim()||!Z.value,class:"send-button"},d(P.value?"发送中...":"发送"),9,ke)]),Z.value?o("",!0):(l(),a("div",be,[m(i,null,{default:y(()=>[m($(_))]),o:1}),s[6]||(s[6]=c("span",null,"您当前未登录，请登录后使用AI客服功能",-1)),m(f,{type:"primary",size:"small",onClick:s[1]||(s[1]=e=>t.$router.push("/login"))},{default:y(()=>[...s[5]||(s[5]=[A(" 立即登录 ",-1)])]),o:1})])),Z.value?(l(),a("div",me,[m(f,{onClick:N,type:"info",size:"small",title:"清空对话"},{default:y(()=>[...s[7]||(s[7]=[A(" 🗑️ 清空 ",-1)])]),o:1}),m(f,{onClick:G,type:"primary",size:"small",title:"新建会话"},{default:y(()=>[...s[8]||(s[8]=[A(" 🆕 新会话 ",-1)])]),o:1}),c("span",{class:p(["connection-status",{connected:q.value}])},d(q.value?"已连接":"未连接"),3)])):o("",!0)]),T.value?(l(),a("div",we,[A(d(T.value)+" ",1),c("button",{onClick:s[2]||(s[2]=t=>T.value=""),class:"close-error"},"×")])):o("",!0),m(se,{ref_key:"configPanel",ref:e,modelValue:I.value,"onUpdate:modelValue":s[3]||(s[3]=t=>I.value=t),config:L,onConfigChange:U,onTestConnection:V},null,8,["modelValue","config"])])}}},[["__scopeId","data-v-ece5491a"]]),ve={class:"home-container"},ye={class:"quick-actions"},$e={class:"card-content"},_e={class:"card-content"},Se={class:"card-content"},Ae={class:"ai-assistant"},Ce={key:0,class:"ai-chat-dialog"},ze={class:"ai-chat-container"},Pe=E({i:"HomeView",setup(t){const e=I(),n=s(!1),i=()=>{n.value=!n.value},r=()=>{e.push("/booking")},h=()=>{e.push("/shop")},u=()=>{e.push("/forum")};return(t,e)=>{const s=P,d=S,f=C,g=T;return l(),a("div",ve,[m(s,{src:$("/BMT-MicroApps/assets/index_img-gPsulG79.png"),lazy:!0,alt:"",fit:"contain",class:"hero-image"},null,8,["src"]),e[11]||(e[11]=c("h2",null,"欢迎使用南湖校区羽毛球场预定系统",-1)),e[12]||(e[12]=c("div",{class:"info-section"},[c("p",null,"南湖校区羽毛球场预定系统为您提供便捷的场地预约、装备购买及交流互动服务。"),c("p",null,"使用本系统，您可以轻松预约羽毛球场地，查看场地使用情况，并与其他羽毛球爱好者交流。")],-1)),c("div",ye,[m(g,{class:"action-card",shadow:"hover"},{header:y(()=>[...e[2]||(e[2]=[c("div",{class:"card-header"},[c("h3",null,"快速预约")],-1)])]),default:y(()=>[c("div",$e,[m(d,{size:80,color:"#2b6fc2"},{default:y(()=>[m($(q))]),o:1}),e[4]||(e[4]=c("p",null,"点击下方按钮快速预约羽毛球场地",-1)),m(f,{type:"primary",onClick:r},{default:y(()=>[...e[3]||(e[3]=[A("立即预约",-1)])]),o:1})])]),o:1}),m(g,{class:"action-card",shadow:"hover"},{header:y(()=>[...e[5]||(e[5]=[c("div",{class:"card-header"},[c("h3",null,"热门推荐")],-1)])]),default:y(()=>[c("div",_e,[m(d,{size:80,color:"#67c23a"},{default:y(()=>[m($(D))]),o:1}),e[7]||(e[7]=c("p",null,"查看热门羽毛球装备",-1)),m(f,{type:"success",onClick:h},{default:y(()=>[...e[6]||(e[6]=[A("去商城",-1)])]),o:1})])]),o:1}),m(g,{class:"action-card",shadow:"hover"},{header:y(()=>[...e[8]||(e[8]=[c("div",{class:"card-header"},[c("h3",null,"交流互动")],-1)])]),default:y(()=>[c("div",Se,[m(d,{size:80,color:"#e6a23c"},{default:y(()=>[m($(R))]),o:1}),e[10]||(e[10]=c("p",null,"加入羽毛球爱好者社区",-1)),m(f,{type:"warning",onClick:u},{default:y(()=>[...e[9]||(e[9]=[A("进入论坛",-1)])]),o:1})])]),o:1})]),c("div",Ae,[m(f,{type:"primary",circle:"",icon:$(R),class:p(["ai-btn",{"ai-btn-active":n.value}]),onClick:i,title:"AI智能客服"},null,8,["icon","class"])]),n.value?(l(),a("div",Ce,[c("div",{class:"ai-chat-overlay",onClick:e[0]||(e[0]=t=>n.value=!1)}),c("div",ze,[m(xe),c("button",{onClick:e[1]||(e[1]=t=>n.value=!1),class:"ai-chat-close"},"×")])])):o("",!0)])}}},[["__scopeId","data-v-3655a32a"]]);export{Pe as default};
