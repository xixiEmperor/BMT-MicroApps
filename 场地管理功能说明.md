# 场地管理功能说明

## 功能概述

场地管理模块是羽毛球场地管理系统的核心功能之一，主要用于管理场地的上架状态、特殊日期设置以及时段管理。该模块位于后台管理系统的"场地相关"菜单下。

## 主要功能

### 1. 场地状态管理

#### 1.1 场地列表展示
- 默认显示羽毛球场1号-9号，共9个场地
- 每个场地卡片显示：
  - 场地名称（羽毛球场X号）
  - 场地编号（BD01-BD09）
  - 当前状态（正常营业/暂停营业）
  - 今日预约情况（已预约/总时段）
  - 启用/停用开关

#### 1.2 单个场地操作
- **启用/停用切换**：通过开关快速切换场地状态
- **查看详情**：查看场地的详细信息和历史数据
- **时段管理**：跳转到具体场地的时段管理页面

#### 1.3 批量操作
- 支持选择多个场地进行批量启用或停用
- 操作前会显示确认对话框，列出受影响的场地
- 操作完成后显示成功提示

### 2. 特殊日期管理

#### 2.1 特殊日期列表
- 以表格形式展示所有特殊日期
- 显示信息包括：
  - 日期
  - 名称（如：元旦、春节等）
  - 类型（节假日/特殊日期）
  - 状态（全部停用/正常营业/部分停用）
  - 影响场地
  - 影响时段

#### 2.2 添加特殊日期
- **日期选择**：选择特殊日期
- **名称设置**：输入特殊日期名称
- **类型选择**：节假日或特殊日期
- **状态设置**：
  - 正常营业：不影响场地运营
  - 全部停用：所有场地全天停用
  - 部分停用：可选择特定场地和时段停用
- **影响范围**：
  - 当选择"部分停用"时，可选择影响的场地
  - 可选择影响的时段（08:00-22:00，分7个时段）
- **备注信息**：可添加额外说明

#### 2.3 编辑和删除
- 支持编辑已有的特殊日期设置
- 支持删除不需要的特殊日期
- 删除前会显示确认对话框

### 3. 时段管理（详细页面）

#### 3.1 页面功能
- 选择具体日期查看该日期的时段安排
- 显示当前日期状态（今天/未来日期/历史日期）
- 禁用过去的日期选择

#### 3.2 时段操作
- **单个时段操作**：
  - 启用/停用开关（已预约的时段无法停用）
  - 查看预约状态（可预约/已预约/已关闭/维护中）
  - 显示预约人和预约时间
  - 显示时段价格
  - 添加备注信息
  - 取消预约（针对已预约时段）

- **批量操作**：
  - 批量启用选中时段
  - 批量停用选中时段（跳过已预约时段）
  - 恢复默认设置

#### 3.3 统计信息
- 总时段数：当日总共的时段数量
- 可预约时段：当前可以预约的时段数量
- 已预约时段：已被预约的时段数量
- 预计收入：已预约时段的总收入

## 时段设置

### 默认时段安排
系统默认设置7个时段，每个时段2小时：

| 时段 | 价格 |
|------|------|
| 08:00-10:00 | ¥80 |
| 10:00-12:00 | ¥100 |
| 12:00-14:00 | ¥80 |
| 14:00-16:00 | ¥100 |
| 16:00-18:00 | ¥120 |
| 18:00-20:00 | ¥150 |
| 20:00-22:00 | ¥120 |

### 价格策略
- 早晨和中午时段价格较低（¥80-100）
- 下午和晚上黄金时段价格较高（¥120-150）
- 最高峰时段为18:00-20:00（¥150）

## 操作权限

### 管理员权限
- 查看所有场地状态
- 修改场地启用/停用状态
- 管理特殊日期设置
- 查看和管理所有时段
- 取消用户预约
- 查看统计数据

### 操作限制
- 已预约的时段无法直接停用
- 过去的日期无法选择进行时段管理
- 删除特殊日期需要确认操作

## 数据持久化

### API接口
系统提供完整的API接口支持：
- 场地列表获取和状态更新
- 特殊日期的增删改查
- 时段信息的获取和更新
- 预约统计数据获取

### 数据同步
- 场地状态变更实时生效
- 特殊日期设置影响相应日期的场地可用性
- 时段状态变更立即反映在前台预约系统

## 用户体验

### 界面设计
- 采用卡片式布局，信息展示清晰
- 使用Element Plus组件库，界面美观统一
- 响应式设计，支持不同屏幕尺寸

### 操作反馈
- 所有操作都有明确的成功/失败提示
- 危险操作（如删除、取消预约）需要二次确认
- 实时更新统计数据和状态显示

### 数据验证
- 表单输入验证，确保数据完整性
- 业务逻辑验证，防止不合理操作
- 错误提示友好，帮助用户正确操作

## 扩展功能

### 未来可扩展的功能
1. **场地维护记录**：记录场地维护历史
2. **价格动态调整**：根据需求动态调整时段价格
3. **预约统计分析**：提供更详细的数据分析
4. **自动化规则**：设置自动化的场地管理规则
5. **通知提醒**：场地状态变更时自动通知相关人员

### 集成功能
- 与预约系统实时同步
- 与支付系统集成处理退款
- 与用户系统集成发送通知
- 与报表系统集成生成统计报告 